<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Sports Streams</title>
<style>
    body { background:#000; color:#fff; font-family:Arial; margin:0; padding:20px; }
    h1 { text-align:center; }
    h2 { margin-top:40px; }
    .section { max-width:900px; margin:20px auto; }
    iframe { width:100%; height:400px; border:0; background:#000; }
    .category-title { font-size:28px; margin-top:50px; text-align:center; color:#0af; }
</style>
</head>
<body>

<h1>Live Sports Streams</h1>

<div id="footballEarly"><h2 class="category-title">‚öΩ Football (12:00‚Äì3:30 PM)</h2></div>
<div id="footballLate"><h2 class="category-title">‚öΩ Football (3:31 PM‚Äì12:00 AM)</h2></div>
<div id="basketball"><h2 class="category-title">üèÄ Basketball</h2></div>
<div id="fighting"><h2 class="category-title">ü•ä Fighting</h2></div>
<div id="other"><h2 class="category-title">üéÆ Other Sports</h2></div>

<script>
const SHEET_JSON_URL =
  "https://docs.google.com/spreadsheets/d/15PSX1c3VavO3KcTZWCdfVEheZNiBduTrYf4Bv4Klz3k/gviz/tq?gid=0&tqx=out:json"
  + "&cache=" + Date.now();

function isBetween(time, start, end) {
    return time >= start && time <= end;
}

async function load() {
    const res = await fetch(SHEET_JSON_URL);
    const text = await res.text();
    const json = JSON.parse(text.substr(47).slice(0, -2));
    const rows = json.table.rows;

    rows.forEach(row => {
        let title = row.c[0]?.v || "";
        let url   = row.c[1]?.v || "";
        let category = row.c[2]?.v || "";
        let time  = row.c[3]?.v || "";

        if (!url.startsWith("http")) return;

        // FOOTBALL EARLY (12‚Äì3:30)
        if (category === "Football" && isBetween(time, "12:00", "15:30")) {
            document.getElementById("footballEarly").innerHTML += `
                <div class="section">
                    <h2>${title} (${time})</h2>
                    <iframe src="${url}" allowfullscreen></iframe>
                </div>`;
        }

        // FOOTBALL LATE (3:31‚Äì12am)
        else if (category === "Football" && isBetween(time, "15:31", "23:59")) {
            document.getElementById("footballLate").innerHTML += `
                <div class="section">
                    <h2>${title} (${time})</h2>
                    <iframe src="${url}" allowfullscreen></iframe>
                </div>`;
        }

        // BASKETBALL
        else if (category === "Basketball") {
            document.getElementById("basketball").innerHTML += `
                <div class="section">
                    <h2>${title}</h2>
                    <iframe src="${url}" allowfullscreen></iframe>
                </div>`;
        }

        // FIGHTING
        else if (category === "Fighting") {
            document.getElementById("fighting").innerHTML += `
                <div class="section">
                    <h2>${title}</h2>
                    <iframe src="${url}" allowfullscreen></iframe>
                </div>`;
        }

        // OTHER
        else if (category === "Other") {
            document.getElementById("other").innerHTML += `
                <div class="section">
                    <h2>${title}</h2>
                    <iframe src="${url}" allowfullscreen></iframe>
                </div>`;
        }
    });
}

load();
</script>

</body>
</html>
